/*! 2016 Baidu Inc. All Rights Reserved */
!function(e,t){if("function"==typeof define&&define.amd)define(["exports","react","../common/util/cxBuilder","./Selector","./helper","../babelHelpers"],t);else if("undefined"!=typeof exports)t(exports,require("react"),require("../common/util/cxBuilder"),require("./Selector"),require("./helper"),require("../babelHelpers"));else{var r={exports:{}};t(r.exports,e.react,e.cxBuilder,e.Selector,e.helper,e.babelHelpers),e.Province=r.exports}}(this,function(exports,e,t,r,n,i){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var o=i.interopRequireDefault(e),a=i.interopRequireDefault(r),s=i.interopRequireWildcard(n),l=t.create("RegionProvince"),u=function(e){function t(r){i.classCallCheck(this,t);var n=i.possibleConstructorReturn(this,e.call(this,r));return n.state={expand:!1},n.onSelectorChange=n.onSelectorChange.bind(n),n.onMouseEnter=n.onMouseEnter.bind(n),n.onMouseLeave=n.onMouseLeave.bind(n),n}return i.inherits(t,e),t.prototype.onSelectorChange=function(e){var t=e.value,r=this.props,n=r.datasource,i=r.onChange;s[t?"selectAll":"cancelAll"](n),i&&i({data:n})},t.prototype.onMouseEnter=function(e){this.setState({expand:!0})},t.prototype.onMouseLeave=function(e){this.setState({expand:!1})},t.prototype.renderSelectedInfo=function(){var e=this.props.datasource,t=e.children&&e.children.length;if(t){var r=e.children.reduce(function(e,t,r){if(t.selected)e++;return e},0);return r===t||0===r?null:o["default"].createElement("span",{className:l().part("info").build()},"("+r+"/"+t+")")}},t.prototype.render=function(){var e=this.props,t=e.datasource,r=e.children;return o["default"].createElement("div",{className:l(this.props).addStates({expand:this.state.expand}).build(),onMouseEnter:r?this.onMouseEnter:null,onMouseLeave:r?this.onMouseLeave:null},o["default"].createElement(a["default"],{label:t.text,id:t.id,checked:t.selected,onChange:this.onSelectorChange}),this.renderSelectedInfo(),r?o["default"].createElement("div",{className:l().part("popup").build()},o["default"].createElement("ul",null,r)):null)},t}(e.Component);exports["default"]=u,u.propTypes={onChange:e.PropTypes.func,disabled:e.PropTypes.bool,datasource:e.PropTypes.object}});