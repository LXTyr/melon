/*! 2016 Baidu Inc. All Rights Reserved */
!function(e,t){if("function"==typeof define&&define.amd)define(["exports","react","../common/util/cxBuilder","./Selector","./Province","./City","./helper","../babelHelpers"],t);else if("undefined"!=typeof exports)t(exports,require("react"),require("../common/util/cxBuilder"),require("./Selector"),require("./Province"),require("./City"),require("./helper"),require("../babelHelpers"));else{var r={exports:{}};t(r.exports,e.react,e.cxBuilder,e.Selector,e.Province,e.City,e.helper,e.babelHelpers),e.Area=r.exports}}(this,function(exports,e,t,r,n,i,o,a){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var s=a.interopRequireDefault(e),l=a.interopRequireDefault(r),u=a.interopRequireDefault(n),p=a.interopRequireDefault(i),c=a.interopRequireWildcard(o),d=t.create("RegionArea"),f=function(e){function t(r){a.classCallCheck(this,t);var n=a.possibleConstructorReturn(this,e.call(this,r));return n.onSelectorChange=n.onSelectorChange.bind(n),n.onProvinceChange=n.onProvinceChange.bind(n),n}return a.inherits(t,e),t.prototype.onSelectorChange=function(e){var t=e.value,r=this.props,n=r.datasource,i=r.onChange;c[t?"selectAll":"cancelAll"](n),i&&i({data:n})},t.prototype.onProvinceChange=function(e,t){var r=t.data,n=this.props,i=n.datasource,o=n.onChange;i.children[e]=r,c.isAllSelected(i),o&&o({data:i})},t.prototype.onCityChange=function(e,t,r){var n=r.data,i=this.props,o=i.datasource,a=i.onChange,s=o.children[e];s.children[t]=n,c.isAllSelected(s),a&&a({data:o})},t.prototype.renderProvince=function(e,t){var r=this;return s["default"].createElement(u["default"],{key:t,datasource:e,onChange:this.onProvinceChange.bind(this,t)},Array.isArray(e.children)&&e.children.length>0?e.children.map(function(e,n){return r.renderCity(t,e,n)}):null)},t.prototype.renderCity=function(e,t,r){var n=this;return s["default"].createElement(p["default"],{key:r,datasource:t,onChange:function(t){return n.onCityChange(e,r,t)}})},t.prototype.render=function(){var e=this,t=this.props.datasource;return s["default"].createElement("li",{className:d(this.props).build()},s["default"].createElement("div",{className:d().part("selector").build()},s["default"].createElement(l["default"],{label:t.text,id:t.id,checked:t.selected,onChange:this.onSelectorChange})),s["default"].createElement("div",{className:d().part("content").build()},t.children.map(function(){return e.renderProvince.apply(e,arguments)})))},t}(e.Component);exports["default"]=f,f.displayName="RegionArea",f.propTypes={onChange:e.PropTypes.func,disabled:e.PropTypes.bool,datasource:e.PropTypes.object}});