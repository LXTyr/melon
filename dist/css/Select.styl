@require './base.styl'
@require './Icon.styl'

.{$-melon-class-prefix}-select
    position: relative
    display: inline-block
    box-sizing: border-box
    padding: 8px 0
    padding-right: $-melon-medium-font-size

    min-width: 5em

    line-height: 24px
    font-size: $-melon-medium-font-size

    border-bottom: 1px solid $-melon-colors.grey300

    &-label
        display inline-block
        width: 100%
        font-size: $-melon-medium-font-size
        text-align: left
        cursor: pointer
        vertical-align: middle
        transition border-color 1s

        &-placeholder
            color: $-melon-colors.grey500

    > .ui-icon
        display: inline-block
        font-size: $-melon-medium-font-size
        width: @font-size
        vertical-align middle
        margin-right: -@width

    &-popup
        position: absolute
        margin-top: 1px
        padding: 16px 0
        min-width: 100%
        top: 0
        left: 0
        text-align: left
        transition all .3s
        background-color: $-melon-colors.white
        box-shadow: melon-get-z-depth('2')
        border-radius: 2px

        // 为了让不同的select之间不相互干扰
        z-index: 1

    &-group

        &-title
            box-sizing: border-box
            width: 100%
            line-height: 2em
            padding: 0 1em
            cursor: default
            color: $-melon-colors.grey700

        &-list .{$-melon-class-prefix}-select-option
            padding-left: 2em

    &-option
        box-sizing: border-box
        width: 100%
        line-height: 2em
        padding: 0 16px
        cursor: pointer

        &:hover
            background-color: $-melon-colors.grey300

        &.state-selected
            color: $-melon-colors.teal500

        &.state-disabled
            color: $-melon-colors.grey400
            cursor: not-allowed
            &:hover
                background-color: $-melon-colors.white

    &.state-invalid
        border-bottom-color: $-melon-colors.red500
