/*! 2016 Baidu Inc. All Rights Reserved */
!function(e,t){if("function"==typeof define&&define.amd)define(["exports","react","./boxgroup/Option","./common/util/cxBuilder","./InputComponent","./Validity","./babelHelpers"],t);else if("undefined"!=typeof exports)t(exports,require("react"),require("./boxgroup/Option"),require("./common/util/cxBuilder"),require("./InputComponent"),require("./Validity"),require("./babelHelpers"));else{var r={exports:{}};t(r.exports,e.react,e.Option,e.cxBuilder,e.InputComponent,e.Validity,e.babelHelpers),e.BoxGroup=r.exports}}(this,function(exports,e,t,r,n,o,i){"use strict";function a(e){return e.map(function(e,t){var r=e.name,n=e.value,o=e.disabled;return s["default"].createElement("option",{key:n,disabled:!!o,label:r,value:n})})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.createOptions=a;var s=i.interopRequireDefault(e),l=i.interopRequireDefault(t),u=i.interopRequireDefault(n),p=i.interopRequireDefault(o),c=r.create("BoxGroup"),d=function(t){function r(e,n){i.classCallCheck(this,r);var o=i.possibleConstructorReturn(this,t.call(this,e,n)),a=o.state.value;return o.state=i["extends"]({},o.state,{value:Array.isArray(a)?a:[a]}),o.onChange=o.onChange.bind(o),o.renderOption=o.renderOption.bind(o),o}return i.inherits(r,t),r.prototype.onChange=function(e){var r=e.target.value,n=this.getValue(),o=this.props.boxModel,i=void 0;if("radio"===o)i=[r];else{var a=n.indexOf(r);i=a>-1?[].concat(n.slice(0,a),n.slice(a+1)):[].concat(n,[r])}t.prototype.onChange.call(this,{type:"change",target:this,value:i})},r.prototype.getValue=function(){var t=this.state.value;return e.Children.toArray(this.props.children).reduce(function(e,r){if(r&&r.props){var n=r.props,o=n.disabled,i=n.value;if(!o&&t.indexOf(i)>-1)e.push(i)}return e},[])},r.prototype.renderOption=function(e){var t=e.type,r=e.props;if("option"!==t)return e;var n=this.props.boxModel,o=r.value,i=r.children,a=r.label;return s["default"].createElement(l["default"],{key:o,boxModel:n,label:a||i,value:o,checked:this.state.value.indexOf(o)>-1,disabled:this.props.disabled||r.disabled,onChange:this.onChange})},r.prototype.render=function(){return s["default"].createElement("div",{className:c(this.props).addStates(this.getStyleStates()).build()},e.Children.map(this.props.children,this.renderOption),s["default"].createElement(p["default"],{validity:this.state.validity}))},r}(u["default"]);exports["default"]=d,d.displayName="BoxGroup",d.propTypes=i["extends"]({},u["default"].propTypes,{boxModel:e.PropTypes.oneOf(["radio","checkbox"]).isRequired,value:e.PropTypes.arrayOf(e.PropTypes.string),children:e.PropTypes.node.isRequired}),d.defaultProps=i["extends"]({},u["default"].defaultProps,{boxModel:"checkbox",defaultValue:[]}),d.createOptions=a});