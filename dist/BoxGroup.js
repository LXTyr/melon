/*! 2016 Baidu Inc. All Rights Reserved */
!function(e,t){if("function"==typeof define&&define.amd)define(["exports","react","./boxgroup/Option","./common/util/cxBuilder","./InputComponent","./Validity","./babelHelpers"],t);else if("undefined"!=typeof exports)t(exports,require("react"),require("./boxgroup/Option"),require("./common/util/cxBuilder"),require("./InputComponent"),require("./Validity"),require("./babelHelpers"));else{var r={exports:{}};t(r.exports,e.react,e.Option,e.cxBuilder,e.InputComponent,e.Validity,e.babelHelpers),e.BoxGroup=r.exports}}(this,function(exports,e,t,r,i,o,n){"use strict";function a(e){return e.map(function(e,t){var r=e.name,i=e.value,o=e.disabled;return l["default"].createElement("option",{key:i,disabled:!!o,label:r,value:i})})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.createOptions=a;var l=n.interopRequireDefault(e),s=n.interopRequireDefault(t),u=n.interopRequireDefault(i),p=n.interopRequireDefault(o),d=r.create("BoxGroup"),f=function(t){function r(e,i){n.classCallCheck(this,r);var o=n.possibleConstructorReturn(this,t.call(this,e,i)),a=o.state.value;return o.state=n["extends"]({},o.state,{value:Array.isArray(a)?a:[a]}),o.onChange=o.onChange.bind(o),o.renderOption=o.renderOption.bind(o),o}return n.inherits(r,t),r.prototype.onChange=function(e){var r=e.target.value,i=this.getValue(),o=this.props.boxModel,n=void 0;if("radio"===o)n=[r];else{var a=i.indexOf(r);n=a>-1?[].concat(i.slice(0,a),i.slice(a+1)):[].concat(i,[r])}t.prototype.onChange.call(this,{type:"change",target:this,value:n})},r.prototype.getValue=function(){var t=this.state.value;return e.Children.toArray(this.props.children).reduce(function(e,r){if(r&&r.props){var i=r.props,o=i.disabled,n=i.value;if(!o&&t.indexOf(n)>-1)e.push(n)}return e},[])},r.prototype.renderOption=function(e){var t=e.type,r=e.props;if("option"!==t)return e;var i=this.props.boxModel,o=r.value,n=r.children,a=r.label;return l["default"].createElement(s["default"],{key:o,boxModel:i,label:a||n,value:o,checked:this.state.value.indexOf(o)>-1,disabled:this.props.disabled||r.disabled,onChange:this.onChange})},r.prototype.render=function(){return l["default"].createElement("div",{className:d(this.props).addStates(this.getStyleStates()).build()},e.Children.map(this.props.children,this.renderOption),l["default"].createElement(p["default"],{validity:this.state.validity}))},r}(u["default"]);exports["default"]=f,f.displayName="BoxGroup",f.propTypes=n["extends"]({},u["default"].propTypes,{boxModel:e.PropTypes.oneOf(["radio","checkbox"]).isRequired,value:e.PropTypes.arrayOf(e.PropTypes.string),children:e.PropTypes.node.isRequired}),f.defaultProps=n["extends"]({},u["default"].defaultProps,{boxModel:"checkbox",defaultValue:[]}),f.createOptions=a});