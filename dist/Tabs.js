/*! 2016 Baidu Inc. All Rights Reserved */
!function(e,t){if("function"==typeof define&&define.amd)define(["exports","react","./tabs/Tab","./tabs/Panel","./common/util/cxBuilder","./babelHelpers"],t);else if("undefined"!=typeof exports)t(exports,require("react"),require("./tabs/Tab"),require("./tabs/Panel"),require("./common/util/cxBuilder"),require("./babelHelpers"));else{var r={exports:{}};t(r.exports,e.react,e.Tab,e.Panel,e.cxBuilder,e.babelHelpers),e.Tabs=r.exports}}(this,function(exports,e,t,r,i,o){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var n=o.interopRequireDefault(e),a=o.interopRequireDefault(t),s=o.interopRequireDefault(r),l=i.create("Tabs"),u=function(t){function r(e){o.classCallCheck(this,r);var i=o.possibleConstructorReturn(this,t.call(this,e)),n=e.selectedIndex;return i.state={selectedIndex:n},i}return o.inherits(r,t),r.prototype.componentWillReceiveProps=function(e){if(e.selectedIndex!==this.state.selectedIndex)this.setState({selectedIndex:e.selectedIndex})},r.prototype.handleTabClick=function(e,t){if(e!==this.state.selectedIndex){var r=this.props,i=r.onBeforeChange,o=r.onChange;if(t.selectedIndex=e,i)if(i(t),t.isDefaultPrevented())return;this.setState({selectedIndex:e},function(){o&&o(t)})}},r.prototype.getTabCount=function(){return e.Children.count(this.props.children)},r.prototype.getSelected=function(e,t){return this.state.selectedIndex===t},r.prototype.render=function(){for(var t=this.props,r=0,i=1/this.getTabCount()*100+"%",a=[],u=[],p=e.Children.toArray(t.children),c=0,d=p.length;d>c;++c){var f=p[c],h=this.getSelected(f,c);if(h)r=c;if(p)a.push(n["default"].createElement(s["default"],{key:c,active:h},f.props.children));u.push(e.cloneElement(f,{key:c,selected:h,tabIndex:c,style:{width:i},onClick:f.props.disabled?null:this.handleTabClick.bind(this,c)}))}var m={width:i,left:"calc("+i+"*"+r+")"};return n["default"].createElement("div",o["extends"]({},t,{className:l(t).build()}),n["default"].createElement("ul",null,u,n["default"].createElement("li",{className:l().part("inkbar").build(),style:m})),a)},r}(e.Component);exports["default"]=u,u.propTypes={selectedIndex:e.PropTypes.number.isRequired,onChange:e.PropTypes.func,onBeforeChange:e.PropTypes.func},u.defaultProps={selectedIndex:0},u.Tab=a["default"]});