/*! 2016 Baidu Inc. All Rights Reserved */
!function(e,t){if("function"==typeof define&&define.amd)define(["exports","react","./tabs/Tab","./tabs/Panel","./common/util/cxBuilder","./babelHelpers"],t);else if("undefined"!=typeof exports)t(exports,require("react"),require("./tabs/Tab"),require("./tabs/Panel"),require("./common/util/cxBuilder"),require("./babelHelpers"));else{var r={exports:{}};t(r.exports,e.react,e.Tab,e.Panel,e.cxBuilder,e.babelHelpers),e.Tabs=r.exports}}(this,function(exports,e,t,r,o,i){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var n=i.interopRequireDefault(e),a=i.interopRequireDefault(t),l=i.interopRequireDefault(r),s=o.create("Tabs"),p=function(t){function r(e){i.classCallCheck(this,r);var o=i.possibleConstructorReturn(this,t.call(this,e)),n=e.selectedIndex;return o.state={selectedIndex:n},o}return i.inherits(r,t),r.prototype.componentWillReceiveProps=function(e){if(e.selectedIndex!==this.state.selectedIndex)this.setState({selectedIndex:e.selectedIndex})},r.prototype.handleTabClick=function(e,t){if(e!==this.state.selectedIndex){var r=this.props,o=r.onBeforeChange,i=r.onChange;if(t.selectedIndex=e,o)if(o(t),t.isDefaultPrevented())return;this.setState({selectedIndex:e},function(){i&&i(t)})}},r.prototype.getTabCount=function(){return e.Children.count(this.props.children)},r.prototype.getSelected=function(e,t){return this.state.selectedIndex===t},r.prototype.render=function(){for(var t=this.props,r=0,o=1/this.getTabCount()*100+"%",a=[],p=[],u=e.Children.toArray(t.children),d=0,c=u.length;c>d;++d){var f=u[d],h=this.getSelected(f,d);if(h)r=d;if(u)a.push(n["default"].createElement(l["default"],{key:d,active:h},f.props.children));p.push(e.cloneElement(f,{key:d,selected:h,tabIndex:d,style:{width:o},onClick:f.props.disabled?null:this.handleTabClick.bind(this,d)}))}var m={width:o,left:"calc("+o+"*"+r+")"};return n["default"].createElement("div",i["extends"]({},t,{className:s(t).build()}),n["default"].createElement("ul",null,p,n["default"].createElement("li",{className:s().part("inkbar").build(),style:m})),a)},r}(e.Component);exports["default"]=p,p.propTypes={selectedIndex:e.PropTypes.number.isRequired,onChange:e.PropTypes.func,onBeforeChange:e.PropTypes.func},p.defaultProps={selectedIndex:0},p.Tab=a["default"]});