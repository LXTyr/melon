/*! 2016 Baidu Inc. All Rights Reserved */
!function(e,t){if("function"==typeof define&&define.amd)define(["exports","react","../common/util/cxBuilder","./RippleCircle","react-motion","../babelHelpers"],t);else if("undefined"!=typeof exports)t(exports,require("react"),require("../common/util/cxBuilder"),require("./RippleCircle"),require("react-motion"),require("../babelHelpers"));else{var r={exports:{}};t(r.exports,e.react,e.cxBuilder,e.RippleCircle,e.reactMotion,e.babelHelpers),e.CenterRipple=r.exports}}(this,function(exports,e,t,r,n,i){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var o=i.interopRequireDefault(e),a=i.interopRequireDefault(r),s=t.create("CenterRipple"),l=function(e){function t(r){i.classCallCheck(this,t);var n=i.possibleConstructorReturn(this,e.call(this,r));return n.state={now:"t0"},n.willLeave=n.willLeave.bind(n),n}return i.inherits(t,e),t.prototype.animate=function(){this.setState({now:"t"+Date.now()})},t.prototype.componentWillReceiveProps=function(e){if(e.flag===!this.props.flag)this.animate()},t.prototype.willLeave=function(e,t){return i["extends"]({},t,{opacity:n.spring(0,{stiffness:60,damping:15}),scale:n.spring(this.props.scale,{stiffness:60,damping:15})})},t.prototype.render=function(){var e=this.props,t=e.opacity,r=e.children,i=this.state.now,l=[{key:i,style:{opacity:n.spring(t),scale:n.spring(0)}}],u=s(this.props).build(),p=s().part("circle").build();return o["default"].createElement(n.TransitionMotion,{willLeave:this.willLeave,styles:l},function(e){return o["default"].createElement("div",{className:u},e.map(function(e){var t=e.style,r=t.opacity,n=t.scale;return o["default"].createElement(a["default"],{key:e.key,className:p,opacity:r,scale:n})}),r)})},t}(e.Component);exports["default"]=l,l.defaultProps={opacity:.5,scale:2},l.propTypes={opacity:e.PropTypes.number.isRequired,scale:e.PropTypes.number.isRequired,flag:e.PropTypes.bool},l.displayName="CenterRipple"});