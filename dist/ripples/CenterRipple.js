/*! 2016 Baidu Inc. All Rights Reserved */
!function(e,t){if("function"==typeof define&&define.amd)define(["exports","react","../common/util/cxBuilder","./RippleCircle","react-motion","../babelHelpers"],t);else if("undefined"!=typeof exports)t(exports,require("react"),require("../common/util/cxBuilder"),require("./RippleCircle"),require("react-motion"),require("../babelHelpers"));else{var r={exports:{}};t(r.exports,e.react,e.cxBuilder,e.RippleCircle,e.reactMotion,e.babelHelpers),e.CenterRipple=r.exports}}(this,function(exports,e,t,r,n,i){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var o=i.interopRequireDefault(e),a=i.interopRequireDefault(r),l=t.create("CenterRipple"),s=function(e){function t(r){i.classCallCheck(this,t);var n=i.possibleConstructorReturn(this,e.call(this,r));return n.state={now:"t0"},n.willLeave=n.willLeave.bind(n),n}return i.inherits(t,e),t.prototype.animate=function(){this.setState({now:"t"+Date.now()})},t.prototype.componentWillReceiveProps=function(e){if(e.flag===!this.props.flag)this.animate()},t.prototype.willLeave=function(e,t){return i["extends"]({},t,{opacity:n.spring(0,[60,15]),scale:n.spring(this.props.scale,[60,15])})},t.prototype.render=function(){var e,t=this,r=this.props,i=r.opacity,s=r.children,u=this.state.now,p=(e={},e[u]={opacity:n.spring(i),scale:n.spring(0)},e),c=l(this.props).build(),d=l().part("circle").build();return o["default"].createElement(n.TransitionMotion,{willLeave:this.willLeave,styles:p},function(e){return o["default"].createElement("div",{className:c},Object.keys(e).map(function(r){var n=e[r],i=n.opacity,l=n.scale;return i=Math.round(100*i)/100,l=.01>=i?t.props.scale:Math.round(100*l)/100,o["default"].createElement(a["default"],{key:r,className:d,opacity:i,scale:l})}),s)})},t}(e.Component);exports["default"]=s,s.defaultProps={opacity:.5,scale:2},s.propTypes={opacity:e.PropTypes.number.isRequired,scale:e.PropTypes.number.isRequired,flag:e.PropTypes.bool},s.displayName="CenterRipple"});