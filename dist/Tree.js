/*! 2016 Baidu Inc. All Rights Reserved */
!function(e,t){if("function"==typeof define&&define.amd)define(["exports","react","react-dom","./common/util/cxBuilder","./tree/TreeNode","./babelHelpers"],t);else if("undefined"!=typeof exports)t(exports,require("react"),require("react-dom"),require("./common/util/cxBuilder"),require("./tree/TreeNode"),require("./babelHelpers"));else{var r={exports:{}};t(r.exports,e.react,e.reactDom,e.cxBuilder,e.TreeNode,e.babelHelpers),e.Tree=r.exports}}(this,function(exports,e,t,r,o,i){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var n=i.interopRequireDefault(e),a=i.interopRequireDefault(t),s=i.interopRequireDefault(o),l=r.create("Tree"),u=function(t){function r(e){i.classCallCheck(this,r);var o=i.possibleConstructorReturn(this,t.call(this,e));return o.onTreeNodeClick=o.onTreeNodeClick.bind(o),o}return i.inherits(r,t),r.prototype.onTreeNodeClick=function(e){var t=e.currentTarget,r=a["default"].findDOMNode(this);e.stopPropagation();for(var o=r.querySelectorAll("[data-role=tree-node]"),i=0,n=o.length;n>i;++i)o[i].className=o[i].className.split(" ").filter(function(e){return"state-selected"!==e}).join(" ");t.className+=" state-selected"},r.prototype.renderTreeNode=function(t,r){if(t){var o=this.props.defaultExpandAll;return e.Children.map(t,function(t,i){return e.cloneElement(t,{onClick:this.onTreeNodeClick,key:i,level:r,expand:o},this.renderTreeNode(t.props.children,r+1))},this)}},r.prototype.render=function(){var e=this.props,t=e.children,r=i.objectWithoutProperties(e,["children"]);return n["default"].createElement("ul",i["extends"]({},r,{className:l(this.props).build()}),this.renderTreeNode(t,1))},r}(e.Component);exports["default"]=u,u.TreeNode=s["default"],u.createTreeNodes=function(e,t){if(t=t||1,null==e)return null;if(!Array.isArray(e))e=[e];return e.map(function(e,r){return n["default"].createElement(s["default"],{level:t,label:e.text,key:e.id},u.createTreeNodes(e.children,t+1))})},u.displayName="Tree",u.propTypes={defaultExpandAll:e.PropTypes.bool,datasource:e.PropTypes.oneOfType([e.PropTypes.array,e.PropTypes.object])},u.defaultProps={defaultExpandAll:!1}});