{"version":3,"sources":["Toggle.js"],"names":["cx","Toggle","props","context","onChange","bind","e","disabled","readOnly","trueValue","falseValue","type","target","value","checked","render","state","validity","name","addStates","build","part","displayName","defaultProps","defaultValue","propTypes","string","isRequired","childContextTypes","contextTypes"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;;;;;AAaA,QAAMA,KAAK,uBAAO,QAAP,CAAX;;AAEA;;;;;;;QAMqBC,M;;;AAEjB;;;;;;;;AAQA,wBAAYC,KAAZ,EAAmBC,OAAnB,EAA4B;AAAA;;AAAA,qEAExB,2BAAMD,KAAN,EAAaC,OAAb,CAFwB;;AAIxB,kBAAKC,QAAL,GAAgB,MAAKA,QAAL,CAAcC,IAAd,OAAhB;;AAJwB;AAM3B;;AAED;;;;;;;;yBAMAD,Q,qBAASE,C,EAAG;AAAA,yBAOJ,KAAKJ,KAPD;AAAA,gBAGJK,QAHI,UAGJA,QAHI;AAAA,gBAIJC,QAJI,UAIJA,QAJI;AAAA,gBAKJC,SALI,UAKJA,SALI;AAAA,gBAMJC,UANI,UAMJA,UANI;;;AASR,gBAAIH,YAAYC,QAAhB,EAA0B;AACtB;AACH;;AAED,sCAAMJ,QAAN,YAAe;AACXO,sBAAM,QADK;AAEXC,wBAAQ,IAFG;AAGXC,uBAAOP,EAAEM,MAAF,CAASE,OAAT,GAAmBL,SAAnB,GAA+BC;AAH3B,aAAf;AAMH,S;;yBAQDK,M,qBAAS;AAAA,gBAGDb,KAHC,GAMD,IANC,CAGDA,KAHC;AAAA,gBAIDc,KAJC,GAMD,IANC,CAIDA,KAJC;AAAA,gBAKDZ,QALC,GAMD,IANC,CAKDA,QALC;AAAA,gBAQES,KARF,GAQqBG,KARrB,CAQEH,KARF;AAAA,gBAQSI,QART,GAQqBD,KARrB,CAQSC,QART;AAAA,gBAWDC,IAXC,GAcDhB,KAdC,CAWDgB,IAXC;AAAA,gBAYDT,SAZC,GAcDP,KAdC,CAYDO,SAZC;AAAA,gBAaDF,QAbC,GAcDL,KAdC,CAaDK,QAbC;;;AAgBL,gBAAMO,UAAUD,UAAUJ,SAA1B;;AAEA,mBACI;AAAA;AAAA,kBAAO,WAAWT,GAAGE,KAAH,EAAUiB,SAAV,CAAoB,EAACL,gBAAD,EAApB,EAA+BM,KAA/B,EAAlB;AACI;AACI,0BAAK,UADT;AAEI,0BAAMF,IAFV;AAGI,2BAAOL,KAHX;AAII,8BAAUT,QAJd;AAKI,6BAASU,OALb,GADJ;AAOI;AAAA;AAAA,sBAAK,WAAWd,KAAKqB,IAAL,CAAU,eAAV,EAA2BD,KAA3B,EAAhB;AACI,8DAAK,WAAWpB,KAAKqB,IAAL,CAAU,KAAV,EAAiBD,KAAjB,EAAhB,GADJ;AAEI;AAAA;AAAA,0BAAK,WAAWpB,KAAKqB,IAAL,CAAU,QAAV,EAAoBD,KAApB,EAAhB;AACKb,mCACK,IADL,GAEK,8DAAc,MAAMO,OAApB,EAA6B,OAAO,GAApC,EAAyC,SAAS,GAAlD;AAHV;AAFJ,iBAPJ;AAeI,0EAAU,UAAUG,QAApB;AAfJ,aADJ;AAoBH,S;;;;;yBAzFgBhB,M;;;AA6FrBA,WAAOqB,WAAP,GAAqB,QAArB;;AAEArB,WAAOsB,YAAP,+BACO,4BAAeA,YADtB;AAEId,mBAAW,IAFf;AAGIC,oBAAY,EAHhB;AAIIc,sBAAc;AAJlB;;AAOAvB,WAAOwB,SAAP,+BACO,4BAAeA,SADtB;AAEIhB,mBAAW,iBAAUiB,MAAV,CAAiBC,UAFhC;AAGIjB,oBAAY,iBAAUgB;AAH1B;;AAMAzB,WAAO2B,iBAAP,GAA2B,4BAAeA,iBAA1C;AACA3B,WAAO4B,YAAP,GAAsB,4BAAeA,YAArC","file":"Toggle.js","sourcesContent":["/**\n * @file melon/Toggle\n * @author cxtom<cxtom2008@gmail.com>\n * @author leon<ludafa@outlook.com>\n */\n\n\nimport React, {PropTypes} from 'react';\nimport InputComponent from 'melon-core/InputComponent';\nimport {create} from 'melon-core/classname/cxBuilder';\nimport CenterRipple from './ripples/CenterRipple';\nimport Validity from 'melon-core/Validity';\n\nconst cx = create('Toggle');\n\n/**\n * melon/Toggle\n *\n * @extends {melon-core/InputComponent}\n * @class\n */\nexport default class Toggle extends InputComponent {\n\n    /**\n     * 构造函数\n     *\n     * @public\n     * @constructor\n     * @param  {*} props   属性\n     * @param  {*} context 上下文\n     */\n    constructor(props, context) {\n\n        super(props, context);\n\n        this.onChange = this.onChange.bind(this);\n\n    }\n\n    /**\n     * 值改变处理\n     *\n     * @protected\n     * @param  {Object} e 事件对象\n     */\n    onChange(e) {\n\n        const {\n            disabled,\n            readOnly,\n            trueValue,\n            falseValue\n        } = this.props;\n\n        if (disabled || readOnly) {\n            return;\n        }\n\n        super.onChange({\n            type: 'change',\n            target: this,\n            value: e.target.checked ? trueValue : falseValue\n        });\n\n    }\n\n    /**\n     * 渲染\n     *\n     * @public\n     * @return {ReactElement}\n     */\n    render() {\n\n        const {\n            props,\n            state,\n            onChange\n        } = this;\n\n        const {value, validity} = state;\n\n        const {\n            name,\n            trueValue,\n            disabled\n        } = props;\n\n        const checked = value === trueValue;\n\n        return (\n            <label className={cx(props).addStates({checked}).build()}>\n                <input\n                    type=\"checkbox\"\n                    name={name}\n                    value={value}\n                    onChange={onChange}\n                    checked={checked} />\n                <div className={cx().part('bar-container').build()}>\n                    <div className={cx().part('bar').build()} />\n                    <div className={cx().part('circle').build()}>\n                        {disabled\n                            ? null\n                            : <CenterRipple flag={checked} scale={2.5} opacity={0.3} />}\n                    </div>\n                </div>\n                <Validity validity={validity} />\n            </label>\n        );\n\n    }\n\n}\n\nToggle.displayName = 'Toggle';\n\nToggle.defaultProps = {\n    ...InputComponent.defaultProps,\n    trueValue: 'on',\n    falseValue: '',\n    defaultValue: ''\n};\n\nToggle.propTypes = {\n    ...InputComponent.propTypes,\n    trueValue: PropTypes.string.isRequired,\n    falseValue: PropTypes.string\n};\n\nToggle.childContextTypes = InputComponent.childContextTypes;\nToggle.contextTypes = InputComponent.contextTypes;\n"]}