@require './base.styl'
@require './Icon.styl'
@require 'react-sticky-state/src/sticky-state.css'

.{$-melon-class-prefix}-table
    box-sizing: border-box
    width: 100%
    border-radius: 2px
    border: 1px solid $-melon-colors.grey400

    &-row
        display: flex
        flex-flow: row nowrap
        border-top: 1px solid $-melon-colors.grey400

        &.state-selected
            .{$-melon-variant-prefix}-table-selector
                color: $-melon-colors.blue500

    &-header

        background: #fff

        &.sticky
            top: 0

        &.is-sticky
            border-bottom: 1px solid #bdbdbd

    &-header &-row
        height: 56px
        border-top: 0
        td
            font-size: $-melon-xx-small-font-size

    &-header &-cell &-cell-content,
    &-footer &-cell &-cell-content
        white-space: nowrap
        text-overflow: ellipsis
        overflow: hidden

    &-header &-row,
    &-footer &-row
        color: rgba($-melon-colors.black, .54)

    &-body &-row

        &.state-selected
            background-color: $-melon-colors.grey100

        &:hover
            background-color: $-melon-colors.grey200


    &-body-empty

        height: 10em
        text-align: center
        color: $-melon-colors.grey400
        border-top: 1px solid $-melon-colors.grey400

        &:before
            content: ''
            display: inline-block
            width: 0;
            height: 100%;
            vertical-align: middle

    &-cell
        display: flex
        box-sizing: border-box;
        justify-content: center
        align-items: center
        padding: 0.5em

        color: rgba($-melon-colors.black, .87)
        font-size: $-melon-x-small-font-size

        &:first-child
            padding-left: 1em
        &:last-child
            padding-right: 1em

        .{$-melon-class-prefix}-select
            border-bottom-width: 0

    .{$-melon-variant-prefix}-table-selector
        width: 1.5em
        font-size: 1.5em
        color: $-melon-colors.grey700
        cursor: pointer
        transition: color .5s

        &.state-selected
            color: $-melon-colors.teal500

.{$-melon-class-prefix}-table-column-header

    display: inline-block
    color: rgba(0, 0, 0, .54)

    &-sorter
        display: inline-block
        position: relative
        color: rgba(0, 0, 0, .54)
        cursor: pointer

        &:hover
            color: rgba(0, 0, 0, .87)

        >.ui-icon
            position: absolute;
            margin: 0 0.5em
            top: 0

    &.variant-align-left
        text-align: left

    &.variant-align-left &-sorter >.ui-icon
        left: 100%

    &.variant-align-right
        text-align: right

    &.variant-align-right &-sorter >.ui-icon
        right: 100%

    &.variant-align-center
        text-align: center

    &.variant-align-center &-sorter >.ui-icon
        left: 100%

    &.state-sort-by-none

        .ui-icon
            display: none

        &:hover
            .ui-icon
                display: block

    &.state-sort-by-asc &-sorter,
    &.state-sort-by-desc &-sorter
        color: rgba(0, 0, 0, .87)

.{$-melon-class-prefix}-table-cell-text-editor

    cursor: pointer;

    &-layer
        box-sizing: border-box
        padding: 0.5em 1em 1em 1em

        &.variant-confirm
            padding: 1em

            >.ui-title
                margin-top: 0

    &-footer
        display: flex
        flex-flow: row nowrap
        justify-content: flex-end
        margin-top: 1em
